<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/stylesheets/register.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>Dashboard</title>
    </head>
    <body style="position: relative; z-index: 100;">
      <div class="container" style="position: relative; top:30px">
        <div class="row">
          <div class="col-md-12">
            <nav class="nav nav-pills nav-fill">
              <button class="btn btn-primary btn-block runded-pill btn-lg">welcome <%=data?.firstname%></button>
              <!-- <a class="nav-link" href="/auth/logout">HOME</a> -->
              <!-- <a class="nav-link active" href="/auth/login">LOGIN</a> -->
              <a class="nav-link" href="/movie/getmovies">MOVIE</a>
              <a class="nav-link" href="/">LOGOUT</a>
            </nav>
          </div>
          </div>
          <div
          class="login-container d-flex align-items-center justify-content-center">
          <form id="dashboard-form" class="login-form text-center">
            <h1 class="mb-5 font-weight-light text-uppercase">Add movie</h1>
            <div class="form-group">
              <input onkeyup="saveData(this)"
                type="text" name="title"
                class="form-control rounded-pill form-control-lg mb-3"
                placeholder="title"
              />
            </div>
            <div class="form-group">
              <input onkeyup="saveData(this)"
                type="text" name="description"
                class="form-control rounded-pill form-control-lg mb-3"
                placeholder="description"
              />
            </div>
            <div class="form-group">
              <input onkeyup="saveData(this)"
                type="text" name="image"
                class="form-control rounded-pill form-control-lg  mb-3"
                placeholder="image"
              />
            </div>
            <div class="form-group">
              <input onkeyup="saveData(this)"
                type="text"name="price"
                class="form-control rounded-pill form-control-lg mb-3"
                placeholder="price"
              />
            </div>
            <div
              class="forgot-link d-flex align-items-center justify-content-between mb-5"
            >
              <button 
                type="submit"
                class="btn btn-primary btn-block rounded-pill btn-lg"
              >Add movie to your collection</button>
            </div>
          </form>
        </div>
       

        <div>
          <table id="update-table" class="table">
            <thead>
              <tr>
                <th scope="col">ID</th>
                <th scope="col">Title</th>
                <th scope="col">Description</th>
                <th scope="col">Image Url</th>
                <th scope="col">Price</th>
                <th scope="col">Actions</th>
              </tr>
            </thead>
            <%movies.forEach((movie,index)=>{%>
              <tbody>
                <tr>
                  <th scope="row"><%=index%></th>
                  <td> <input  name="title" onkeyup="updateInput(this)" class="form-control" placeholder=" <%=movie?.title%>" type="text"/></td>
                  <td> <input   name="description"onkeyup="updateInput(this)"   class="form-control" placeholder=" <%=movie?.description%>" type="text"/></td>
                  <td> <input onkeyup="updateInput(this)" class="form-control" placeholder="<%=movie?.image%>" type="text" name="image"></td>
                  <td> <input onkeyup="updateInput(this)" class="form-control" placeholder="<%=movie?.price%>" type="text" name="price"></td>
                  <td>
                    <button  class="btn btn-danger" onclick="handleDelete('<%=movie.id%>')">Delete</button>
                    <button class="btn btn-secondary" onclick="handleUpdate('<%=movie.id%>')">update</button>
                  </td>
                </tr>
               
              </tbody>
            <%})%>
          </table>
        </div>
  </body>
  <script src="/script/index.js"></script>
</html>
